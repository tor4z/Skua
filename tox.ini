[tox]
envlist = py36

[base]
deps = 
    pymongo
    PyMySQL
    flake8

[testenv:dev]
deps = 
    {[base]deps}
setenv = 
    PYTHONPATH={toxinidir}
changedir =
    tests
commands = 
    python -m unittest discover --pattern=test_*.py -v

[testenv:coverage]
deps = 
    coverage
    {[base]deps}
setenv = 
    PYTHONPATH={toxinidir}
changedir =
    tests
commands =
    flake8 skua
    coverage erase
    coverage run -m unittest discover --pattern=test_*.py -v
    coverage report --omit='.tox/*'
    coverage html --omit='.tox/*'

[testenv:docs]
deps = 
    sphinx
setenv = 
    PYTHONPATH={toxinidir}
changedir =
    docs
commands = 
    - make html